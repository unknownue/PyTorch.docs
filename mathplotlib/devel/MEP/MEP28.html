
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MEP28: Remove Complexity from Axes.boxplot &#8212; Matplotlib 3.8.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css?v=86e00652" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/mpl.css?v=a30b99b9" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script src="../../_static/documentation_options.js?v=52ef03d6"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devel/MEP/MEP28';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://matplotlib.org/devdocs/_static/switcher.json?3.8.1';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'stable';
        </script>
    <link rel="canonical" href="https://matplotlib.org/stable/devel/MEP/MEP28.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.8.1 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MEP29: Text light markup" href="MEP29.html" />
    <link rel="prev" title="MEP27: Decouple pyplot from backends" href="MEP27.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  <div class="bd-header-announcement container-fluid" id="unreleased-message">
    <div class="bd-header-announcement__content">
      You are reading documentation for the unreleased version of Matplotlib.
      <a href="https://matplotlib.org/search.html?q=MEP28%3A%20Remove%20Complexity%20from%20Axes.boxplot&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
      </a>
    </div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
   

<a class="navbar-brand logo" href="https://matplotlib.org/stable/">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo_light.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo_dark.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/release_notes.html">Releases</a>
  </li>
</ul></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      stable  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">Contribute</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../users/release_notes.html">Releases</a>
  </li>
</ul></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      stable  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../development_setup.html">Setting up Matplotlib for development</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users/installing/environment_variables_faq.html">Environment variables</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../development_workflow.html">Development workflow</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../coding_guide.html">Pull request guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../document.html">Write documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../style_guide.html">Documentation style guide</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../release_guide.html">Release guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../min_dep_policy.html">Dependency version policy</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Matplotlib Enhancement Proposals</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="template.html">MEP Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP08.html">MEP8: PEP8</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP09.html">MEP9: Global interaction manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP10.html">MEP10: Docstring consistency</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP11.html">MEP11: Third-party dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP12.html">MEP12: Improve Gallery and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP13.html">MEP13: Use properties for Artists</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP14.html">MEP14: Text handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP15.html">MEP15: Fix axis autoscaling when limits are specified for one axis only</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP19.html">MEP19: Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP21.html">MEP21: color and cm refactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP22.html">MEP22: Toolbar rewrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP23.html">MEP23: Multiple Figures per GUI window</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP24.html">MEP24: Negative radius in polar plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP25.html">MEP25: Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP26.html">MEP26: Artist styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP27.html">MEP27: Decouple pyplot from backends</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">MEP28: Remove Complexity from Axes.boxplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="MEP29.html">MEP29: Text light markup</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../triage.html">Bug triaging and issue curation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../color_changes.html">Default color changes</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Contribute</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Matplotlib Enhancement Proposals</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">MEP28: Remove Complexity from Axes.boxplot</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="mep28-remove-complexity-from-axes-boxplot">
<h1>MEP28: Remove Complexity from Axes.boxplot<a class="headerlink" href="#mep28-remove-complexity-from-axes-boxplot" title="Link to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#status" id="id1">Status</a></p></li>
<li><p><a class="reference internal" href="#branches-and-pull-requests" id="id2">Branches and Pull requests</a></p></li>
<li><p><a class="reference internal" href="#abstract" id="id3">Abstract</a></p></li>
<li><p><a class="reference internal" href="#detailed-description" id="id4">Detailed description</a></p>
<ul>
<li><p><a class="reference internal" href="#importance" id="id5">Importance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation" id="id6">Implementation</a></p>
<ul>
<li><p><a class="reference internal" href="#passing-transform-functions-to-cbook-boxplots-stats" id="id7">Passing transform functions to <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code></a></p></li>
<li><p><a class="reference internal" href="#simplifications-to-the-axes-boxplot-api-and-other-functions" id="id8">Simplifications to the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> API and other functions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#backward-compatibility" id="id9">Backward compatibility</a></p>
<ul>
<li><p><a class="reference internal" href="#schedule" id="id10">Schedule</a></p></li>
<li><p><a class="reference internal" href="#anticipated-impacts-to-users" id="id11">Anticipated Impacts to Users</a></p></li>
<li><p><a class="reference internal" href="#anticipated-impacts-to-downstream-libraries" id="id12">Anticipated Impacts to Downstream Libraries</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#alternatives" id="id13">Alternatives</a></p>
<ul>
<li><p><a class="reference internal" href="#variations-on-the-theme" id="id14">Variations on the theme</a></p></li>
<li><p><a class="reference internal" href="#doing-less" id="id15">Doing less</a></p></li>
<li><p><a class="reference internal" href="#doing-nothing" id="id16">Doing nothing</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="status">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Status</a><a class="headerlink" href="#status" title="Link to this heading">#</a></h2>
<p><strong>Discussion</strong></p>
</section>
<section id="branches-and-pull-requests">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Branches and Pull requests</a><a class="headerlink" href="#branches-and-pull-requests" title="Link to this heading">#</a></h2>
<p>The following lists any open PRs or branches related to this MEP:</p>
<ol class="arabic simple">
<li><p>Deprecate redundant statistical kwargs in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>: <a class="github reference external" href="https://github.com/phobson/matplotlib/tree/MEP28-initial-deprecations">phobson/matplotlib</a></p></li>
<li><p>Deprecate redundant style options in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>: <a class="github reference external" href="https://github.com/phobson/matplotlib/tree/MEP28-initial-deprecations">phobson/matplotlib</a></p></li>
<li><p>Deprecate passings 2D NumPy arrays as input: None</p></li>
<li><p>Add pre- &amp; post-processing options to <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>: <a class="github reference external" href="https://github.com/phobson/matplotlib/tree/boxplot-stat-transforms">phobson/matplotlib</a></p></li>
<li><p>Exposing <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> through <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> kwargs: None</p></li>
<li><p>Remove redundant statistical kwargs in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>: None</p></li>
<li><p>Remove redundant style options in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>: None</p></li>
<li><p>Remaining items that arise through discussion: None</p></li>
</ol>
</section>
<section id="abstract">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Abstract</a><a class="headerlink" href="#abstract" title="Link to this heading">#</a></h2>
<p>Over the past few releases, the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> method has grown in
complexity to support fully customizable artist styling and statistical
computation. This lead to <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> being split off into multiple
parts. The statistics needed to draw a boxplot are computed in
<code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>, while the actual artists are drawn by <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>.
The original method, <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> remains as the most public API that
handles passing the user-supplied data to <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>, feeding
the results to <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>, and pre-processing style information for
each facet of the boxplot plots.</p>
<p>This MEP will outline a path forward to rollback the added complexity
and simplify the API while maintaining reasonable backwards
compatibility.</p>
</section>
<section id="detailed-description">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Detailed description</a><a class="headerlink" href="#detailed-description" title="Link to this heading">#</a></h2>
<p>Currently, the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> method accepts parameters that allow the
users to specify medians and confidence intervals for each box that
will be drawn in the plot. These were provided so that advanced users
could provide statistics computed in a different fashion that the simple
method provided by matplotlib. However, handling this input requires
complex logic to make sure that the forms of the data structure match what
needs to be drawn. At the moment, that logic contains 9 separate if/else
statements nested up to 5 levels deep with a for loop, and may raise up to 2 errors.
These parameters were added prior to the creation of the <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> method,
which draws boxplots from a list of dictionaries containing the relevant
statistics. Matplotlib also provides a function that computes these
statistics via <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>. Note that advanced users can now
either a) write their own function to compute the stats required by
<code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>, or b) modify the output returned by <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code>
to fully customize the position of the artists of the plots. With this
flexibility, the parameters to manually specify only the medians and their
confidences intervals remain for backwards compatibility.</p>
<p>Around the same time that the two roles of <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> were split into
<code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> for computation and <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> for drawing, both
<code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> and <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> were written to accept parameters that
individually toggle the drawing of all components of the boxplots, and
parameters that individually configure the style of those artists. However,
to maintain backwards compatibility, the <code class="docutils literal notranslate"><span class="pre">sym</span></code> parameter (previously used
to specify the symbol of the fliers) was retained. This parameter itself
requires fairly complex logic to reconcile the <code class="docutils literal notranslate"><span class="pre">sym</span></code> parameters with the
newer <code class="docutils literal notranslate"><span class="pre">flierprops</span></code> parameter at the default style specified by <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>.</p>
<p>This MEP seeks to dramatically simplify the creation of boxplots for
novice and advanced users alike. Importantly, the changes proposed here
will also be available to downstream packages like seaborn, as seaborn
smartly allows users to pass arbitrary dictionaries of parameters through
the seaborn API to the underlying matplotlib functions.</p>
<p>This will be achieved in the following way:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> will be modified to allow pre- and post-
computation transformation functions to be passed in (e.g., <code class="docutils literal notranslate"><span class="pre">np.log</span></code>
and <code class="docutils literal notranslate"><span class="pre">np.exp</span></code> for lognormally distributed data)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> will be modified to also accept and naïvely pass them
to <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code> (Alt: pass the stat function and a dict
of its optional parameters).</p></li>
<li><p>Outdated parameters from <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> will be deprecated and
later removed.</p></li>
</ol>
<section id="importance">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Importance</a><a class="headerlink" href="#importance" title="Link to this heading">#</a></h3>
<p>Since the limits of the whiskers are computed arithmetically, there
is an implicit assumption of normality in box and whisker plots.
This primarily affects which data points are classified as outliers.</p>
<p>Allowing transformations to the data and the results used to draw
boxplots will allow users to opt-out of that assumption if the
data are known to not fit a normal distribution.</p>
<p>Below is an example of how <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> classifies outliers of lognormal
data differently depending one these types of transforms.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cbook</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">lognormal</span><span class="p">(</span><span class="o">-</span><span class="mf">1.75</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">37</span><span class="p">)</span>

<span class="n">stats</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">boxplot_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;arithmetic&#39;</span><span class="p">])</span>
<span class="n">logstats</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">boxplot_stats</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;log-transformed&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">lsdict</span> <span class="ow">in</span> <span class="n">logstats</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">lsdict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span>
            <span class="n">lsdict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="n">stats</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">logstats</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bxp</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../../_downloads/23c58255629c7b527dac35416580a412/MEP28-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/02e95864a9b85220587367176cec46cd/MEP28-1.2x.png"><code class="xref download docutils literal notranslate"><span class="pre">2x.png</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/ea577f438aed67feea58273f011d721f/MEP28-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>)</p>
<figure class="align-center">
  <a class="reference internal image-reference" href="../../_images/devel-MEP-MEP28-1.2x.png">
    <img src="../../_images/devel-MEP-MEP28-1.png" style="" srcset="../../_images/devel-MEP-MEP28-1.png, ../../_images/devel-MEP-MEP28-1.2x.png 2.00x" alt="" class="plot-directive"/>
  </a>
</figure>
</section>
</section>
<section id="implementation">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Implementation</a><a class="headerlink" href="#implementation" title="Link to this heading">#</a></h2>
<section id="passing-transform-functions-to-cbook-boxplots-stats">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Passing transform functions to <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code></a><a class="headerlink" href="#passing-transform-functions-to-cbook-boxplots-stats" title="Link to this heading">#</a></h3>
<p>This MEP proposes that two parameters (e.g., <code class="docutils literal notranslate"><span class="pre">transform_in</span></code> and
<code class="docutils literal notranslate"><span class="pre">transform_out</span></code> be added to the cookbook function that computes the
statistics for the boxplot function. These will be optional keyword-only
arguments and can easily be set to <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">x</span></code> as a no-op when omitted
by the user. The <code class="docutils literal notranslate"><span class="pre">transform_in</span></code> function will be applied to the data
as the <code class="docutils literal notranslate"><span class="pre">boxplot_stats</span></code> function loops through each subset of the data
passed to it. After the list of statistics dictionaries are computed the
<code class="docutils literal notranslate"><span class="pre">transform_out</span></code> function is applied to each value in the dictionaries.</p>
<p>These transformations can then be added to the call signature of
<code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> with little impact to that method's complexity. This is
because they can be directly passed to <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>.
Alternatively, <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> could be modified to accept an optional
statistical function kwarg and a dictionary of parameters to be directly
passed to it.</p>
<p>At this point in the implementation users and external libraries like
seaborn would have complete control via the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> method. More
importantly, at the very least, seaborn would require no changes to its
API to allow users to take advantage of these new options.</p>
</section>
<section id="simplifications-to-the-axes-boxplot-api-and-other-functions">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Simplifications to the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> API and other functions</a><a class="headerlink" href="#simplifications-to-the-axes-boxplot-api-and-other-functions" title="Link to this heading">#</a></h3>
<p>Simplifying the boxplot method consists primarily of deprecating and then
removing the redundant parameters. Optionally, a next step would include
rectifying minor terminological inconsistencies between <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>
and <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>.</p>
<p>The parameters to be deprecated and removed include:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">usermedians</span></code> - processed by 10 SLOC, 3 <code class="docutils literal notranslate"><span class="pre">if</span></code> blocks, a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code> - handled by 15 SLOC, 6 <code class="docutils literal notranslate"><span class="pre">if</span></code> blocks, a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sym</span></code> - processed by 12 SLOC, 4 <code class="docutils literal notranslate"><span class="pre">if</span></code> blocks</p></li>
</ol>
<p>Removing the <code class="docutils literal notranslate"><span class="pre">sym</span></code> option allows all code in handling the remaining
styling parameters to be moved to <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>. This doesn't remove
any complexity, but does reinforce the single responsibility principle
among <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>, <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>, and <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>.</p>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">notch</span></code> parameter could be renamed <code class="docutils literal notranslate"><span class="pre">shownotches</span></code>
to be consistent with <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>. This kind of cleanup could be taken
a step further and the <code class="docutils literal notranslate"><span class="pre">whis</span></code>, <code class="docutils literal notranslate"><span class="pre">bootstrap</span></code>, <code class="docutils literal notranslate"><span class="pre">autorange</span></code> could
be rolled into the kwargs passed to the new <code class="docutils literal notranslate"><span class="pre">statfxn</span></code> parameter.</p>
</section>
</section>
<section id="backward-compatibility">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Backward compatibility</a><a class="headerlink" href="#backward-compatibility" title="Link to this heading">#</a></h2>
<p>Implementation of this MEP would eventually result in the backwards
incompatible deprecation and then removal of the keyword parameters
<code class="docutils literal notranslate"><span class="pre">usermedians</span></code>, <code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code>, and <code class="docutils literal notranslate"><span class="pre">sym</span></code>. Cursory searches on
GitHub indicated that <code class="docutils literal notranslate"><span class="pre">usermedians</span></code>, <code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code> are used by
few users, who all seem to have a very strong knowledge of matplotlib.
A robust deprecation cycle should provide sufficient time for these
users to migrate to a new API.</p>
<p>Deprecation of <code class="docutils literal notranslate"><span class="pre">sym</span></code> however, may have a much broader reach into
the matplotlib userbase.</p>
<section id="schedule">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Schedule</a><a class="headerlink" href="#schedule" title="Link to this heading">#</a></h3>
<p>An accelerated timeline could look like the following:</p>
<ol class="arabic simple">
<li><p>v2.0.1 add transforms to <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code>, expose in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code></p></li>
<li><p>v2.1.0 Initial Deprecations , and using 2D NumPy arrays as input</p>
<ol class="loweralpha simple">
<li><p>Using 2D NumPy arrays as input. The semantics around 2D arrays are generally confusing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">usermedians</span></code>, <code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code>, <code class="docutils literal notranslate"><span class="pre">sym</span></code> parameters</p></li>
</ol>
</li>
<li><p>v2.2.0</p>
<ol class="loweralpha simple">
<li><p>remove <code class="docutils literal notranslate"><span class="pre">usermedians</span></code>, <code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code>, <code class="docutils literal notranslate"><span class="pre">sym</span></code> parameters</p></li>
<li><p>deprecate <code class="docutils literal notranslate"><span class="pre">notch</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">shownotches</span></code> to be consistent with
other parameters and <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code></p></li>
</ol>
</li>
<li><p>v2.3.0</p>
<ol class="loweralpha simple">
<li><p>remove <code class="docutils literal notranslate"><span class="pre">notch</span></code> parameter</p></li>
<li><p>move all style and artist toggling logic to <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> such <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>
is little more than a broker between <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> and <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code></p></li>
</ol>
</li>
</ol>
</section>
<section id="anticipated-impacts-to-users">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Anticipated Impacts to Users</a><a class="headerlink" href="#anticipated-impacts-to-users" title="Link to this heading">#</a></h3>
<p>As described above deprecating <code class="docutils literal notranslate"><span class="pre">usermedians</span></code> and <code class="docutils literal notranslate"><span class="pre">conf_intervals</span></code>
will likely impact few users. Those who will be impacted are almost
certainly advanced users who will be able to adapt to the change.</p>
<p>Deprecating the <code class="docutils literal notranslate"><span class="pre">sym</span></code> option may import more users and effort should
be taken to collect community feedback on this.</p>
</section>
<section id="anticipated-impacts-to-downstream-libraries">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Anticipated Impacts to Downstream Libraries</a><a class="headerlink" href="#anticipated-impacts-to-downstream-libraries" title="Link to this heading">#</a></h3>
<p>The source code (GitHub master as of 2016-10-17) was inspected for
seaborn and python-ggplot to see if these changes would impact their
use. None of the parameters nominated for removal in this MEP are used by
seaborn. The seaborn APIs that use matplotlib's boxplot function allow
user's to pass arbitrary <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> through to matplotlib's API. Thus
seaborn users with modern matplotlib installations will be able to take
full advantage of any new features added as a result of this MEP.</p>
<p>Python-ggplot has implemented its own function to draw boxplots. Therefore,
no impact can come to it as a result of implementing this MEP.</p>
</section>
</section>
<section id="alternatives">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Alternatives</a><a class="headerlink" href="#alternatives" title="Link to this heading">#</a></h2>
<section id="variations-on-the-theme">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Variations on the theme</a><a class="headerlink" href="#variations-on-the-theme" title="Link to this heading">#</a></h3>
<p>This MEP can be divided into a few loosely coupled components:</p>
<ol class="arabic simple">
<li><p>Allowing pre- and post-computation transformation function in <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code></p></li>
<li><p>Exposing that transformation in the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> API</p></li>
<li><p>Removing redundant statistical options in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code></p></li>
<li><p>Shifting all styling parameter processing from <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> to <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code>.</p></li>
</ol>
<p>With this approach, #2 depends and #1, and #4 depends on #3.</p>
<p>There are two possible approaches to #2. The first and most direct would
be to mirror the new <code class="docutils literal notranslate"><span class="pre">transform_in</span></code> and <code class="docutils literal notranslate"><span class="pre">transform_out</span></code> parameters of
<code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> in <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> and pass them directly.</p>
<p>The second approach would be to add <code class="docutils literal notranslate"><span class="pre">statfxn</span></code> and <code class="docutils literal notranslate"><span class="pre">statfxn_args</span></code>
parameters to <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>. Under this implementation, the default
value of <code class="docutils literal notranslate"><span class="pre">statfxn</span></code> would be <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code>, but users could
pass their own function. Then <code class="docutils literal notranslate"><span class="pre">transform_in</span></code> and <code class="docutils literal notranslate"><span class="pre">transform_out</span></code> would
then be passed as elements of the <code class="docutils literal notranslate"><span class="pre">statfxn_args</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">boxplot_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">transform_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transform_out</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">transform_in</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">transform_in</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>

    <span class="k">if</span> <span class="n">transform_out</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">transform_out</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>

    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">transform_in</span><span class="p">(</span><span class="n">_d</span><span class="p">)</span>
        <span class="n">stat_dict</span> <span class="o">=</span> <span class="n">do_stats</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">stat_dict</span><span class="o">.</span><span class="n">item</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span>
                <span class="n">stat_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">transform_out</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">output</span>


 <span class="k">class</span> <span class="nc">Axes</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
     <span class="k">def</span> <span class="nf">boxplot_option1</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">transform_in</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transform_out</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
         <span class="n">stats</span> <span class="o">=</span> <span class="n">cbook</span><span class="o">.</span><span class="n">boxplot_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
                                     <span class="n">transform_in</span><span class="o">=</span><span class="n">transform_in</span><span class="p">,</span>
                                     <span class="n">transform_out</span><span class="o">=</span><span class="n">transform_out</span><span class="p">)</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bxp</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

     <span class="k">def</span> <span class="nf">boxplot_option2</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">statfxn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">statopts</span><span class="p">):</span>
         <span class="k">if</span> <span class="n">statfxn</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
             <span class="n">statfxn</span> <span class="o">=</span> <span class="n">boxplot_stats</span>
         <span class="n">stats</span> <span class="o">=</span> <span class="n">statfxn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">statopts</span><span class="p">)</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bxp</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Both cases would allow users to do the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">artists1</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">boxplot_optionX</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">transform_in</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">,</span>
                               <span class="n">transform_out</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">)</span>
</pre></div>
</div>
<p>But Option Two lets a user write a completely custom stat function
(e.g., <code class="docutils literal notranslate"><span class="pre">my_box_stats</span></code>) with fancy BCA confidence intervals and the
whiskers set differently depending on some attribute of the data.</p>
<p>This is available under the current API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">my_stats</span> <span class="o">=</span> <span class="n">my_box_stats</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">bootstrap_method</span><span class="o">=</span><span class="s1">&#39;BCA&#39;</span><span class="p">,</span>
                        <span class="n">whisker_method</span><span class="o">=</span><span class="s1">&#39;dynamic&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">bxp</span><span class="p">(</span><span class="n">my_stats</span><span class="p">)</span>
</pre></div>
</div>
<p>And would be more concise with Option Two</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">statopts</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">transform_in</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">,</span> <span class="n">transform_out</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">**</span><span class="n">statopts</span><span class="p">)</span>
</pre></div>
</div>
<p>Users could also pass their own function to compute the stats:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">statfxn</span><span class="o">=</span><span class="n">my_box_stats</span><span class="p">,</span> <span class="n">bootstrap_method</span><span class="o">=</span><span class="s1">&#39;BCA&#39;</span><span class="p">,</span>
            <span class="n">whisker_method</span><span class="o">=</span><span class="s1">&#39;dynamic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>From the examples above, Option Two seems to have only marginal benefit,
but in the context of downstream libraries like seaborn, its advantage
is more apparent as the following would be possible without any patches
to seaborn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span>
<span class="n">tips</span> <span class="o">=</span> <span class="n">seaborn</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;tips&#39;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">seaborn</span><span class="o">.</span><span class="n">factorplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;total_bill&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">tips</span><span class="p">,</span>
                       <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;PRGn&quot;</span><span class="p">,</span> <span class="n">shownotches</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">statfxn</span><span class="o">=</span><span class="n">my_box_stats</span><span class="p">,</span> <span class="n">bootstrap_method</span><span class="o">=</span><span class="s1">&#39;BCA&#39;</span><span class="p">,</span>
                       <span class="n">whisker_method</span><span class="o">=</span><span class="s1">&#39;dynamic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This type of flexibility was the intention behind splitting the overall
boxplot API in the current three functions. In practice however, downstream
libraries like seaborn support versions of matplotlib dating back well
before the split. Thus, adding just a bit more flexibility to the
<code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> could expose all the functionality to users of the
downstream libraries with modern matplotlib installation without intervention
from the downstream library maintainers.</p>
</section>
<section id="doing-less">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Doing less</a><a class="headerlink" href="#doing-less" title="Link to this heading">#</a></h3>
<p>Another obvious alternative would be to omit the added pre- and post-
computation transform functionality in <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> and
<code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code>, and simply remove the redundant statistical and style
parameters as described above.</p>
</section>
<section id="doing-nothing">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Doing nothing</a><a class="headerlink" href="#doing-nothing" title="Link to this heading">#</a></h3>
<p>As with many things in life, doing nothing is an option here. This means
we simply advocate for users and downstream libraries to take advantage
of the split between <code class="docutils literal notranslate"><span class="pre">cbook.boxplot_stats</span></code> and <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> and let
them decide how to provide an interface to that.</p>
</section>
</section>
</section>


                </article>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#status">Status</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#branches-and-pull-requests">Branches and Pull requests</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract">Abstract</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#detailed-description">Detailed description</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#importance">Importance</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation">Implementation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#passing-transform-functions-to-cbook-boxplots-stats">Passing transform functions to <code class="docutils literal notranslate"><span class="pre">cbook.boxplots_stats</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simplifications-to-the-axes-boxplot-api-and-other-functions">Simplifications to the <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> API and other functions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backward-compatibility">Backward compatibility</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#schedule">Schedule</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anticipated-impacts-to-users">Anticipated Impacts to Users</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anticipated-impacts-to-downstream-libraries">Anticipated Impacts to Downstream Libraries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alternatives">Alternatives</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variations-on-the-theme">Variations on the theme</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#doing-less">Doing less</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#doing-nothing">Doing nothing</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2023 The Matplotlib development team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Built from 3.8.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>