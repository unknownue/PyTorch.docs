
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Text rendering With LaTeX &#8212; Matplotlib 3.3.1 documentation</title>
    <link rel="stylesheet" href="../../_static/mpl.css?v3.3.1-dirty" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.1 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Overview of axes_grid1 toolkit" href="../toolkits/axes_grid.html" />
    <link rel="prev" title="Typesetting With XeLaTeX/LuaLaTeX" href="pgf.html" />
<link rel="top" title="Matplotlib 3.3.1 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/3.3.1/tutorials/text/usetex.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>


<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.1</span></div>
        <img src="../../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../../users/installing.html">Installation</a></li>
            <li><a href="../../contents.html">Documentation</a></li>
            <li><a href="../../gallery/index.html">Examples</a></li>
            <li><a href="../index.html">Tutorials</a></li>
            <li><a href="../../devel/index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../toolkits/axes_grid.html" title="Overview of axes_grid1 toolkit"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pgf.html" title="Typesetting With XeLaTeX/LuaLaTeX"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../users/index.html" >User's Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Text rendering With LaTeX</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Text rendering With LaTeX</a><ul>
<li><a class="reference internal" href="#usetex-with-unicode">usetex with unicode</a></li>
<li><a class="reference internal" href="#postscript-options">Postscript options</a></li>
<li><a class="reference internal" href="#possible-hangups">Possible hangups</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../../users/index.html">User's Guide</a><ul>
  <li><a href="../index.html">Tutorials</a><ul>
      <li>Previous: <a href="pgf.html" title="previous chapter">Typesetting With XeLaTeX/LuaLaTeX</a></li>
      <li>Next: <a href="../toolkits/axes_grid.html" title="next chapter">Overview of axes_grid1 toolkit</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/tutorials/text/usetex.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-tutorials-text-usetex-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="text-rendering-with-latex">
<span id="sphx-glr-tutorials-text-usetex-py"></span><h1>Text rendering With LaTeX<a class="headerlink" href="#text-rendering-with-latex" title="Permalink to this headline">¶</a></h1>
<p>Rendering text with LaTeX in Matplotlib.</p>
<p>Matplotlib has the option to use LaTeX to manage all text layout.  This
option is available with the following backends:</p>
<ul class="simple">
<li>Agg</li>
<li>PS</li>
<li>PDF</li>
</ul>
<p>The LaTeX option is activated by setting <code class="docutils literal notranslate"><span class="pre">text.usetex</span> <span class="pre">:</span> <span class="pre">True</span></code> in your rc
settings.  Text handling with matplotlib's LaTeX support is slower than
matplotlib's very capable <a class="reference internal" href="mathtext.html"><span class="doc">mathtext</span></a>, but is
more flexible, since different LaTeX packages (font packages, math packages,
etc.) can be used. The results can be striking, especially when you take care
to use the same fonts in your figures as in the main document.</p>
<p>Matplotlib's LaTeX support requires a working <a class="reference external" href="http://www.tug.org">LaTeX</a> installation, <a class="reference external" href="http://www.nongnu.org/dvipng/">dvipng</a>
(which may be included with your LaTeX installation), and <a class="reference external" href="https://ghostscript.com/">Ghostscript</a>
(GPL Ghostscript 9.0 or later is required). The executables for these
external dependencies must all be located on your <span class="target" id="index-0"></span><a class="reference internal" href="../../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>.</p>
<p>There are a couple of options to mention, which can be changed using
<a class="reference internal" href="../introductory/customizing.html"><span class="doc">rc settings</span></a>. Here is an example
matplotlibrc file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font</span><span class="o">.</span><span class="n">family</span>        <span class="p">:</span> <span class="n">serif</span>
<span class="n">font</span><span class="o">.</span><span class="n">serif</span>         <span class="p">:</span> <span class="n">Times</span><span class="p">,</span> <span class="n">Palatino</span><span class="p">,</span> <span class="n">New</span> <span class="n">Century</span> <span class="n">Schoolbook</span><span class="p">,</span> <span class="n">Bookman</span><span class="p">,</span> <span class="n">Computer</span> <span class="n">Modern</span> <span class="n">Roman</span>
<span class="n">font</span><span class="o">.</span><span class="n">sans</span><span class="o">-</span><span class="n">serif</span>    <span class="p">:</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">Avant</span> <span class="n">Garde</span><span class="p">,</span> <span class="n">Computer</span> <span class="n">Modern</span> <span class="n">Sans</span> <span class="n">serif</span>
<span class="n">font</span><span class="o">.</span><span class="n">cursive</span>       <span class="p">:</span> <span class="n">Zapf</span> <span class="n">Chancery</span>
<span class="n">font</span><span class="o">.</span><span class="n">monospace</span>     <span class="p">:</span> <span class="n">Courier</span><span class="p">,</span> <span class="n">Computer</span> <span class="n">Modern</span> <span class="n">Typewriter</span>

<span class="n">text</span><span class="o">.</span><span class="n">usetex</span>        <span class="p">:</span> <span class="n">true</span>
</pre></div>
</div>
<p>The first valid font in each family is the one that will be loaded. If the
fonts are not specified, the Computer Modern fonts are used by default. All of
the other fonts are Adobe fonts. Times and Palatino each have their own
accompanying math fonts, while the other Adobe serif fonts make use of the
Computer Modern math fonts. See the <a class="reference external" href="http://www.ctan.org/tex-archive/macros/latex/required/psnfss/psnfss2e.pdf">PSNFSS</a> documentation for more details.</p>
<p>To use LaTeX and select Helvetica as the default font, without editing
matplotlibrc use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;text.usetex&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;font.family&quot;</span><span class="p">:</span> <span class="s2">&quot;sans-serif&quot;</span><span class="p">,</span>
    <span class="s2">&quot;font.sans-serif&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">]})</span>
<span class="c1">## for Palatino and other serif fonts use:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;text.usetex&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;font.family&quot;</span><span class="p">:</span> <span class="s2">&quot;serif&quot;</span><span class="p">,</span>
    <span class="s2">&quot;font.serif&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Palatino&quot;</span><span class="p">],</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Here is the standard example,
<code class="file docutils literal notranslate"><span class="pre">/gallery/text_labels_and_annotations/tex_demo</span></code>:</p>
<div class="figure align-center" id="id1">
<a class="reference external image-reference" href="../../gallery/text_labels_and_annotations/tex_demo.html"><img alt="../../_images/sphx_glr_tex_demo_0012.png" src="../../_images/sphx_glr_tex_demo_0012.png" style="width: 300.0px; height: 200.0px;" /></a>
<p class="caption"><span class="caption-text">TeX Demo</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Note that display math mode (<code class="docutils literal notranslate"><span class="pre">$$</span> <span class="pre">e=mc^2</span> <span class="pre">$$</span></code>) is not supported, but adding the
command <code class="docutils literal notranslate"><span class="pre">\displaystyle</span></code>, as in the above demo, will produce the same results.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Certain characters require special escaping in TeX, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># $ % &amp; ~ _ ^ \ { } \( \) \[ \]</span>
</pre></div>
</div>
<p class="last">Therefore, these characters will behave differently depending on
<code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=text.usetex#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;text.usetex&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
</div>
<div class="section" id="usetex-with-unicode">
<span id="usetex-unicode"></span><h2>usetex with unicode<a class="headerlink" href="#usetex-with-unicode" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to use unicode strings with the LaTeX text manager, here is
an example taken from <code class="file docutils literal notranslate"><span class="pre">/gallery/text_labels_and_annotations/tex_demo</span></code>.
The axis labels include Unicode text:</p>
<div class="figure align-center" id="id2">
<a class="reference external image-reference" href="../../gallery/text_labels_and_annotations/tex_demo.html"><img alt="../../_images/sphx_glr_tex_demo_0012.png" src="../../_images/sphx_glr_tex_demo_0012.png" style="width: 300.0px; height: 200.0px;" /></a>
<p class="caption"><span class="caption-text">TeX Unicode Demo</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="postscript-options">
<span id="usetex-postscript"></span><h2>Postscript options<a class="headerlink" href="#postscript-options" title="Permalink to this headline">¶</a></h2>
<p>In order to produce encapsulated postscript files that can be embedded in a new
LaTeX document, the default behavior of matplotlib is to distill the output,
which removes some postscript operators used by LaTeX that are illegal in an
eps file. This step produces results which may be unacceptable to some users,
because the text is coarsely rasterized and converted to bitmaps, which are not
scalable like standard postscript, and the text is not searchable. One
workaround is to set <code class="docutils literal notranslate"><span class="pre">ps.distiller.res</span></code> to a higher value (perhaps 6000)
in your rc settings, which will produce larger files but may look better and
scale reasonably. A better workaround, which requires <a class="reference external" href="https://poppler.freedesktop.org/">Poppler</a> or <a class="reference external" href="http://www.xpdfreader.com/">Xpdf</a>, can be
activated by changing the <code class="docutils literal notranslate"><span class="pre">ps.usedistiller</span></code> rc setting to <code class="docutils literal notranslate"><span class="pre">xpdf</span></code>. This
alternative produces postscript without rasterizing text, so it scales
properly, can be edited in Adobe Illustrator, and searched text in pdf
documents.</p>
</div>
<div class="section" id="possible-hangups">
<span id="usetex-hangups"></span><h2>Possible hangups<a class="headerlink" href="#possible-hangups" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>On Windows, the <span class="target" id="index-1"></span><a class="reference internal" href="../../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a> environment variable may need to be modified
to include the directories containing the latex, dvipng and ghostscript
executables. See <a class="reference internal" href="../../faq/environment_variables_faq.html#environment-variables"><span class="std std-ref">Environment Variables</span></a> and
<a class="reference internal" href="../../faq/environment_variables_faq.html#setting-windows-environment-variables"><span class="std std-ref">Setting environment variables in Windows</span></a> for details.</li>
<li>Using MiKTeX with Computer Modern fonts, if you get odd *Agg and PNG
results, go to MiKTeX/Options and update your format files</li>
<li>On Ubuntu and Gentoo, the base texlive install does not ship with
the type1cm package. You may need to install some of the extra
packages to get all the goodies that come bundled with other latex
distributions.</li>
<li>Some progress has been made so matplotlib uses the dvi files
directly for text layout. This allows latex to be used for text
layout with the pdf and svg backends, as well as the *Agg and PS
backends. In the future, a latex installation may be the only
external dependency.</li>
</ul>
</div>
<div class="section" id="troubleshooting">
<span id="usetex-troubleshooting"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Try deleting your <code class="file docutils literal notranslate"><span class="pre">.matplotlib/tex.cache</span></code> directory. If you don't know
where to find <code class="file docutils literal notranslate"><span class="pre">.matplotlib</span></code>, see <a class="reference internal" href="../../faq/troubleshooting_faq.html#locating-matplotlib-config-dir"><span class="std std-ref">matplotlib configuration and cache directory locations</span></a>.</li>
<li>Make sure LaTeX, dvipng and ghostscript are each working and on your
<span class="target" id="index-2"></span><a class="reference internal" href="../../faq/environment_variables_faq.html#envvar-PATH"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code></a>.</li>
<li>Make sure what you are trying to do is possible in a LaTeX document,
that your LaTeX syntax is valid and that you are using raw strings
if necessary to avoid unintended escape sequences.</li>
<li>Most problems reported on the mailing list have been cleared up by
upgrading <a class="reference external" href="https://ghostscript.com/">Ghostscript</a>. If possible, please try upgrading to the
latest release before reporting problems to the list.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">text.latex.preamble</span></code> rc setting is not officially supported. This
option provides lots of flexibility, and lots of ways to cause
problems. Please disable this option before reporting problems to
the mailing list.</li>
<li>If you still need help, please see <a class="reference internal" href="../../faq/troubleshooting_faq.html#reporting-problems"><span class="std std-ref">Getting help</span></a></li>
</ul>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-text-usetex-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<a class="reference download internal" download="" href="../../_downloads/0d107edc8c3e240a5bc4f7486b23afc1/usetex.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">usetex.py</span></code></a></div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<a class="reference download internal" download="" href="../../_downloads/67444aa8e727dcf1b494799f62393f05/usetex.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">usetex.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature">Keywords: matplotlib code example, codex, python plot, pyplot
<a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Aug 24, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.
Doc version v3.3.1-dirty.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>